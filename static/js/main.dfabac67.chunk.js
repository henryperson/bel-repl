(this["webpackJsonpchime-playground"]=this["webpackJsonpchime-playground"]||[]).push([[0],{19:function(e,t,n){e.exports=n(34)},24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(11),o=n.n(i),c=(n(24),n(10)),l=n(3),s=n(2),u=(n(25),[{title:"hello world",code:"(cons 'hello 'world)"},{title:"fibonacci",code:"(def fib (n)\n  (if (= n 0)\n      '(0)\n      (let l '(1 0)\n        (repeat (dec n)\n          (set l (cons (+ (car l) (cadr l)) l)))\n        (rev l))))\n\n(fib 10)"},{title:"quicksort",code:"(set l '(6 3 8 0 2 2 1 6 8 0))\n\n(def quicksort (l)\n  (let partition (fn (lo hi)\n                   (with (pivot (hi l)\n                          i lo)\n                     (for j lo hi\n                       (if (< (j l) pivot)\n                           (do\n                             (swap (j l) (i l))\n                             (zap inc i))))\n                      (swap (i l) (hi l))\n                      i))\n    ((afn (lo hi)\n       (when (< lo hi)\n        (let pivot (partition lo hi)\n            (self lo (dec pivot))\n            (self (inc pivot) hi))))\n     1 (len l)))\n  l)\n\n(quicksort l)\n(prn l)"}]),d=n(12),p=n(18),f=n(13),m=(n(31),n(32),n(33),n(14)),h=n(7);function b(){var e=Object(m.a)(["(([0-9]+/[0-9]+)|([0-9]*.?[0-9]+))"],["(([0-9]+\\/[0-9]+)|([0-9]*\\.?[0-9]+))"]);return b=function(){return e},e}n.n(h).a.defineMode("bel",(function(){var e=new RegExp("\\\\(".concat(g.join("|"),"|.)")),t=function(){var e=String.raw(b()),t="(".concat(e,"i)"),n="(".concat(e,"[+-]").concat(t,")");return new RegExp("[+-]?(".concat(n,"|").concat(t,"|").concat(e,")"))}(),n=function(){var e="[\\w$%&*+\\-/<=>?@^_{}]+";return new RegExp("\xa6(".concat(e,")\xa6|(").concat(e,")"))}(),r="operator",a="comment",i="quote",o="variable-2",c="string",l="bracket",s="string-2",u="number",d={constant:"number",primitive:"keyword",builtInVar:"meta",specialForm:"special",predefinedOp:"property",underscore:"bracket",userDefined:null},p=null,f=function(f,m){if(f.eatSpace())return null;if(f.match(/[()]|\. /))return r;if(f.match(/;.*/))return a;if(f.match(/,@|,|`|'/))return i;if(f.match(/#[0-9]+=?/))return o;if(f.match(/"/))return m.stringMode=!0,c;if(f.eat(/\[/))return m.literalDepth+=1,l;if(f.eat(/\]/))return m.literalDepth>0&&(m.literalDepth-=1),l;if(f.match(e))return s;if(f.match(t)){if(!f.eat(/\w/))return u;f.backUp(f.current().length)}var h=f.match(n);if(h){var b=h[1]||h[2];switch(!0){case v.has(b):return d.constant;case w.has(b):return d.primitive;case y.has(b):return d.builtInVar;case x.has(b):return d.specialForm;case E.has(b):return d.predefinedOp;case"_"===b&&m.literalDepth>0:return d.underscore;default:return d.userDefined}}return f.eat(/\xa6/)?(m.complexSymbolMode=!0,d.userDefined):f.eat(/\.|!|:|~|\|/)?p:(f.next(),null)},m=function(t,n){return t.eat(/"/)?(n.stringMode=!1,c):t.match(e)?s:(t.next(),c)},h=function(e,t){return e.eat(/\xa6/)?t.complexSymbolMode=!1:e.next(),d.userDefined};return{startState:function(){return{stringMode:!1,complexSymbolMode:!1,counter:0,literalDepth:0}},token:function(e,t){return t.stringMode?m(e,t):t.complexSymbolMode?h(e,t):f(e,t)}}}));var g=["tab","nul","soh","stx","etx","eot","enq","ack","bel","dle","dc1","dc2","dc3","dc4","nak","syn","etb","can","del","sub","esc","em","fs","gs","rs","us","sp","bs","ht","lf","vt","ff","cr","so","si"],v=new Set(["t","o","nil"]),w=new Set(["id","join","car","cdr","type","xar","xdr","sym","nom","wrb","rdb","ops","cls","stat","coin","sys"]),y=new Set(["chars","globe","scope","ins","outs"]),x=new Set(["quote","lit","if","apply","where","din","after","ccc","thread"]),E=new Set(["readas","inst","make","tem","templates","tabrem","tabloc","tabref","table","aref","array","prs","record","readall","to","from","withfile","round","min","max","best","sort","insert","dedup","pushnew","adjoin","swap","clean","pop","wipe","rand","randlen","clog2","^w","drain","nof","accum","poll","repeat","for","til","while","loop","whilet","mod","ceil","only","trap","part","flip","each","awhen","whenlet","cut","catch","first","nchar","drop","prnice","pr","prn","prelts","prpair","intchar","irep","rrep","prnum","prsymbol","prsimple","presc","prstring","ustring","prc","cells","namedups","print","bqexpair","bqthru","bqex","parseno","parsecom","parseslist","parset","charint","parseint","parsed","parsesr","parsei","validd","validr","validi","parseword","rdword","rdtarget","rddelim","rdwrap","namecs","hard-rdex","rddot","rdlist","syn","syntax","charstil","eatwhite","rdex","saferead","read","source","intrac","signc","breakc","digit","bbuf","rdc","peek","close","open","cbuf","pull","push","--","++","zap","deq","enq","newq","last","lastcdr","dock","tail","atomic","bind","withs","check","consif","gets","do1","simple","dups","tokens","whitec","runs","wait","afn","rfn","yc","pint","whole","int","com","comfns","bin<","list<","charn","len","pos","dec","inc","/","buildnum","common","factor","simplify","abs","inv","real","ipart","rpart","numi","numr","litnum","c*","c+","srden","srnum","sr<","srrecip","sr/","sr*","srinv","sr-","sr+","srone","srzero","r/","r*","r-","r+","i^","i/","i*","i-","i+","i<","i16","i10","i2","i1","i0","unless","when","split","match","pcase","letu","fuse","pairwise","upon","of","foldr","foldl","cor","cand","combine","compose","con","function","protected","applycont","destructure","typecheck","pass","applyclo","applyprim","prims","oktoparm","okparms","okstack","okenv","loc","locfns","vir","virfns","applylit","applyf","applym","evcall2","evcall","dyn2","if2","parameters","formfn","form","forms","evmark","fu","sigerr","binding","lookup","inwhere","smark","vref","ev","sched","mev","bel","isa","variable","literal","safe","onerr","eif","is","idfn","udrop","snap","rev","put","get","rem","keep","with","hug","caris","begins","find","aif","iflet","case","caddr","cddr","cadr","in","mem","string","proper","stream","char","pair","symbol","macro","let","do","uvar","map","list","snoc","reduce","some","all","atom","vmark","spa","spd","+","-","*","recip","odd","even",">",">=","<","<=","=","cons","append","nth","bitc","parsenum","floor","number","load","no","debug","time","set","def","mac","bquote","comma","comma-at","splice","or","and","fn"]),k=n(15),S="https://repl-api.bel-chime.com",j={base03:"#002b36",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"},O=Object(s.a)({light:{fg:j.base00,bg:j.base3,hl:j.base2,emph:j.base01,comment:j.base1},dark:{fg:j.base0,bg:j.base03,hl:j.base02,emph:j.base1,comment:j.base01}},j),q={bar:{height:"50px",width:"100%",display:"flex",alignItems:"center",padding:"15px"},barTitle:{textTransform:"uppercase"},panel:function(e){return{display:"flex",flex:1,minWidth:"50%",minHeight:"50%",maxHeight:e?"":"50%",flexDirection:"column"}},body:{flexGrow:1,fontFamily:'Monaco, Menlo, "Courier New", monospace',fontSize:"14px",display:"flex",overflow:"scroll"},button:function(e){return{textTransform:"uppercase",cursor:"pointer",padding:"9px",borderRadius:"3px",background:e?"#dfdac7":""}}};function C(e){return a.a.createElement("div",{style:e})}function D(){var e=a.a.useState(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=a.a.useRef(),o=function(){return r(!0)},c=function(){return r(!1)};return a.a.useEffect((function(){var e=i.current;if(e)return e.addEventListener("mouseover",o),e.addEventListener("mouseout",c),function(){e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",c)}}),[i]),[i,n]}function I(){return new URLSearchParams(document.location.search).get("p")}var M=I(),z={};var L=function(){var e=a.a.useState(M?["",!0]:[u[0].code,!1]),t=Object(l.a)(e,2),n=Object(l.a)(t[0],2),r=n[0],i=n[1],o=t[1],m=a.a.useState({output:[],replInput:"",requestOutstanding:!1,replState:""}),h=Object(l.a)(m,2),b=h[0],g=b.output,v=b.replInput,w=b.requestOutstanding,y=b.replState,x=h[1],E=a.a.useState(!1),j=Object(l.a)(E,2),L=j[0],R=j[1],T=D(),W=Object(l.a)(T,2),B=W[0],P=W[1],F=D(),J=Object(l.a)(F,2),N=J[0],H=J[1],U=D(),_=Object(l.a)(U,2),V=_[0],$=_[1],G=a.a.useRef();a.a.useEffect((function(){var e;w||(null===(e=G.current)||void 0===e||e.focus())}),[G,w]);var K,A,Q=a.a.useRef();K=Q,A=function(){return R(!1)},a.a.useEffect((function(){var e=function(e){K.current&&!K.current.contains(e.target)&&A(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[K,A]),a.a.useEffect((function(){M&&fetch("https://storage.googleapis.com/download/storage/v1/b/chime-snippets/o/".concat(M,"?alt=media")).then((function(e){return e.text()})).then((function(e){z[M]=e,o([e,!0])})),window.addEventListener("popstate",(function(e){var t=I();if(t){var n=z[t];void 0!==n&&o([n,!0])}}))}),[]),a.a.useEffect((function(){i||window.history.pushState(null,"","/")}),[i]);var X,Y=function(){function e(){return{width:window.innerWidth,height:window.innerHeight}}var t=a.a.useState(e),n=Object(l.a)(t,2),r=n[0],i=n[1];return a.a.useEffect((function(){function t(){i(e())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),r}(),Z=Y.width>Y.height,ee={};return a.a.createElement("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column"}},a.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:Z?"row":"column",position:"relative",flex:1}},a.a.createElement("div",{style:Object(s.a)({color:O.light.fg},q.panel(Z))},a.a.createElement("div",{style:Object(s.a)({background:O.light.hl,justifyContent:"space-between"},q.bar,{paddingRight:"6px"})},a.a.createElement("span",{style:q.barTitle},"editor"),a.a.createElement("div",{style:{display:"flex"}},(X="7px",(ee["buttonWidth"]=X)&&null),a.a.createElement("div",{style:q.button(P),ref:B,onClick:function(){fetch("".concat(S,"/share"),{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){var t=e.share_id;z[t]=r,window.history.pushState(null,"","/?p=".concat(t)),o([r,!0])}))}},"share"),a.a.createElement(C,{width:ee.buttonWidth}),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},ref:Q},a.a.createElement("div",{style:q.button($),ref:V,onClick:function(){R(!L)}},"examples"),L&&a.a.createElement("div",{style:{position:"absolute",textTransform:"none",top:q.bar.height,background:"white",display:"flex",flexDirection:"column",border:"1px solid ".concat(O.light.fg),borderRadius:"2px",zIndex:1}},u.map((function(e,t){var n=e.title,i=e.code;return a.a.createElement("div",{key:t,style:Object(s.a)({height:"45px",width:"150px",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:t!==u.length-1?"1px solid ".concat(O.light.fg):"",cursor:"pointer"},i===r?{fontWeight:"bold",cursor:"default"}:{}),onClick:function(){o([i,!1])}},n)})))),a.a.createElement(C,{width:ee.buttonWidth}),a.a.createElement("div",{style:Object(s.a)({display:"flex",alignItems:"center"},q.button(H)),ref:N,onClick:function(){x((function(e){return{replInput:"",requestOutstanding:!0,output:e.output,replState:y}})),fetch("".concat(S,"/stateful-long"),{method:"POST",body:JSON.stringify({expr:r,state:""})}).then((function(e){return e.json()})).then((function(e){var t=e.result,n=e.state;return x({output:[{type:"output",text:t}],replInput:"",requestOutstanding:!1,replState:n})}))}},"run ",a.a.createElement(C,{width:"7px"}),a.a.createElement(d.a,{style:{fontSize:"small"},icon:p.a})))),a.a.createElement("div",{style:Object(s.a)({background:O.light.bg},q.body)},a.a.createElement(k.a,null,a.a.createElement("style",null,"\n                .react-codemirror2 {\n                  width: 100%;\n                  flex-grow: 1;\n                }\n\n                .CodeMirror {\n                  height: 100%;\n                  background: inherit;\n                  color: inherit;\n                  font-family: inherit;\n                  padding: 0 15px 15px 0;\n                  z-index: 0;\n                }\n\n                .CodeMirror-cursor {\n                  border-left: 1px solid ".concat(O.light.fg,";\n                }\n\n                .CodeMirror-lines {\n                  padding-top: 15px;\n                }\n              "))),a.a.createElement(f.Controlled,{value:r,options:{mode:"bel",theme:"solarized",lineNumbers:!0,matchBrackets:!0},onBeforeChange:function(e,t,n){o([n,!1])}}))),a.a.createElement("div",{style:Object(s.a)({color:O.dark.fg},q.panel(Z))},a.a.createElement("div",{style:Object(s.a)({background:O.dark.hl},q.bar)},a.a.createElement("span",{style:{textTransform:"uppercase"}},"repl")),a.a.createElement("div",{style:Object(s.a)({background:O.dark.bg},q.body)},a.a.createElement("div",{style:{padding:"15px",width:"100%"}},g.map((function(e,t){var n=e.type,r=e.text;switch(n){case"input":return a.a.createElement("div",{key:t},"> ",r);case"output":return a.a.createElement("div",{style:{marginTop:0,whiteSpace:"pre-wrap"},key:t},r);default:return function(e){throw new Error("Unexpected object: "+e)}(n)}})),a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},w?null:a.a.createElement(a.a.Fragment,null,">\xa0 ",a.a.createElement("textarea",{rows:1,value:v,ref:G,onChange:function(e){var t=e.target.value;x((function(e){return Object(s.a)({},e,{replInput:t})}))},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),x((function(e){var t=e.output;return{output:[].concat(Object(c.a)(t),[{type:"input",text:v}]),replInput:"",requestOutstanding:!0,replState:""}})),fetch("".concat(S,"/stateful"),{method:"POST",body:JSON.stringify({expr:v,state:y})}).then((function(e){return e.json()})).then((function(e){var t=e.result,n=e.state;return x((function(e){var r=e.output;return{output:[].concat(Object(c.a)(r),[{type:"output",text:t}]),requestOutstanding:!1,replInput:"",replState:n}}))})))},style:{flex:"1",background:O.dark.bg,border:"none",outline:"none",resize:"none",fontSize:"inherit",padding:"0",color:"inherit",margin:0},spellCheck:"false"}))))))),a.a.createElement("footer",null,"Powered by\xa0",a.a.createElement("a",{id:"chime-repo",href:"https://github.com/jeremyschlatter/chime"},"Chime")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.dfabac67.chunk.js.map