(this["webpackJsonpchime-playground"]=this["webpackJsonpchime-playground"]||[]).push([[0],{17:function(e,t,n){e.exports=n(31)},22:function(e,t,n){},23:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n.n(o),l=(n(22),n(9)),c=n(3),u=n(2),s=(n(23),[{title:"hello world",code:"(cons 'hello 'world)"},{title:"fibonacci",code:"(def fib (n)\n  (if (= n 0)\n      '(0)\n      (let l '(1 0)\n        (repeat (dec n)\n          (set l (cons (+ (car l) (cadr l)) l)))\n        (rev l))))\n\n(fib 10)"},{title:"quicksort",code:"(set l '(6 3 8 0 2 2 1 6 8 0))\n\n(def quicksort (l)\n  (let partition (fn (lo hi)\n                   (with (pivot (hi l)\n                          i lo)\n                     (for j lo hi\n                       (if (< (j l) pivot)\n                           (do\n                             (swap (j l) (i l))\n                             (zap inc i))))\n                      (swap (i l) (hi l))\n                      i))\n    ((afn (lo hi)\n       (when (< lo hi)\n        (let pivot (partition lo hi)\n            (self lo (dec pivot))\n            (self (inc pivot) hi))))\n     1 (len l)))\n  l)\n\n(quicksort l)\n(prn l)"}]),d=n(11),f=n(16),p=n(12),h=(n(30),n(13)),m="https://repl-api.bel-chime.com",b={base03:"#002b36",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"},g=Object(u.a)({light:{fg:b.base00,bg:b.base3,hl:b.base2,emph:b.base01,comment:b.base1},dark:{fg:b.base0,bg:b.base03,hl:b.base02,emph:b.base1,comment:b.base01}},b),v={bar:{height:"50px",width:"100%",display:"flex",alignItems:"center",padding:"15px"},barTitle:{textTransform:"uppercase"},panel:function(e){return{display:"flex",flex:1,minWidth:"50%",minHeight:"50%",maxHeight:e?"":"50%",flexDirection:"column"}},body:{flexGrow:1,fontFamily:'Monaco, Menlo, "Courier New", monospace',fontSize:"14px",display:"flex",overflow:"scroll"},button:function(e){return{textTransform:"uppercase",cursor:"pointer",padding:"9px",borderRadius:"3px",background:e?"#dfdac7":""}}};function y(e){return a.a.createElement("div",{style:e})}function w(){var e=a.a.useState(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],o=a.a.useRef(),i=function(){return r(!0)},l=function(){return r(!1)};return a.a.useEffect((function(){var e=o.current;if(e)return e.addEventListener("mouseover",i),e.addEventListener("mouseout",l),function(){e.removeEventListener("mouseover",i),e.removeEventListener("mouseout",l)}}),[o.current]),[o,n]}function x(){return new URLSearchParams(document.location.search).get("p")}var E=x(),O={};var j=function(){var e=a.a.useState(E?["",!0]:[s[0].code,!1]),t=Object(c.a)(e,2),n=Object(c.a)(t[0],2),r=n[0],o=n[1],i=t[1],b=a.a.useState({output:[],replInput:"",requestOutstanding:!1,replState:""}),j=Object(c.a)(b,2),k=j[0],S=k.output,C=k.replInput,I=k.requestOutstanding,L=k.replState,T=j[1],q=a.a.useState(!1),z=Object(c.a)(q,2),W=z[0],D=z[1],R=w(),M=Object(c.a)(R,2),P=M[0],B=M[1],J=w(),N=Object(c.a)(J,2),H=N[0],F=N[1],U=w(),G=Object(c.a)(U,2),K=G[0],$=G[1],_=a.a.useRef();a.a.useEffect((function(){var e;I||(null===(e=_.current)||void 0===e||e.focus())}),[_,I]);var A,Q,V=a.a.useRef();A=V,Q=function(){return D(!1)},a.a.useEffect((function(){var e=function(e){A.current&&!A.current.contains(e.target)&&Q(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[A,Q]),a.a.useEffect((function(){E&&fetch("https://storage.googleapis.com/download/storage/v1/b/chime-snippets/o/".concat(E,"?alt=media")).then((function(e){return e.text()})).then((function(e){O[E]=e,i([e,!0])})),window.addEventListener("popstate",(function(e){var t=x();if(t){var n=O[t];void 0!==n&&i([n,!0])}}))}),[]),a.a.useEffect((function(){o||window.history.pushState(null,"","/")}),[o]);var X,Y=function(){function e(){return{width:window.innerWidth,height:window.innerHeight}}var t=a.a.useState(e),n=Object(c.a)(t,2),r=n[0],o=n[1];return a.a.useEffect((function(){function t(){o(e())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),r}(),Z=Y.width>Y.height,ee={};return a.a.createElement("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column"}},a.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:Z?"row":"column",position:"relative",flex:1}},a.a.createElement("div",{style:Object(u.a)({color:g.light.fg},v.panel(Z))},a.a.createElement("div",{style:Object(u.a)({background:g.light.hl,justifyContent:"space-between"},v.bar,{paddingRight:"6px"})},a.a.createElement("span",{style:v.barTitle},"editor"),a.a.createElement("div",{style:{display:"flex"}},(X="7px",(ee["buttonWidth"]=X)&&null),a.a.createElement("div",{style:v.button(B),ref:P,onClick:function(){fetch("".concat(m,"/share"),{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){var t=e.share_id;O[t]=r,window.history.pushState(null,"","/?p=".concat(t)),i([r,!0])}))}},"share"),a.a.createElement(y,{width:ee.buttonWidth}),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},ref:V},a.a.createElement("div",{style:v.button($),ref:K,onClick:function(){D(!W)}},"examples"),W&&a.a.createElement("div",{style:{position:"absolute",textTransform:"none",top:v.bar.height,background:"white",display:"flex",flexDirection:"column",border:"1px solid ".concat(g.light.fg),borderRadius:"2px",zIndex:1}},s.map((function(e,t){var n=e.title,o=e.code;return a.a.createElement("div",{key:t,style:Object(u.a)({height:"45px",width:"150px",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:t!==s.length-1?"1px solid ".concat(g.light.fg):"",cursor:"pointer"},o===r?{fontWeight:"bold",cursor:"default"}:{}),onClick:function(){i([o,!1])}},n)})))),a.a.createElement(y,{width:ee.buttonWidth}),a.a.createElement("div",{style:Object(u.a)({display:"flex",alignItems:"center"},v.button(F)),ref:H,onClick:function(){T((function(e){return{replInput:"",requestOutstanding:!0,output:e.output,replState:L}})),fetch("".concat(m,"/stateful-long"),{method:"POST",body:JSON.stringify({expr:r,state:""})}).then((function(e){return e.json()})).then((function(e){var t=e.result,n=e.state;return T({output:[{type:"output",text:t}],replInput:"",requestOutstanding:!1,replState:n})}))}},"run ",a.a.createElement(y,{width:"7px"}),a.a.createElement(d.a,{style:{fontSize:"small"},icon:f.a})))),a.a.createElement("div",{style:Object(u.a)({background:g.light.bg},v.body)},a.a.createElement(h.a,null,a.a.createElement("style",null,"\n                .react-codemirror2 {\n                  width: 100%;\n                  flex-grow: 1;\n                }\n\n                .CodeMirror {\n                  height: 100%;\n                  background: inherit;\n                  color: inherit;\n                  font-family: inherit;\n                  padding: 0 15px 15px 0;\n                  z-index: 0;\n                }\n\n                .CodeMirror-cursor {\n                  border-left: 1px solid ".concat(g.light.fg,";\n                }\n\n                .CodeMirror-lines {\n                  padding-top: 15px;\n                }\n              "))),a.a.createElement(p.Controlled,{value:r,options:{lineNumbers:!0},onBeforeChange:function(e,t,n){i([n,!1])}}))),a.a.createElement("div",{style:Object(u.a)({color:g.dark.fg},v.panel(Z))},a.a.createElement("div",{style:Object(u.a)({background:g.dark.hl},v.bar)},a.a.createElement("span",{style:{textTransform:"uppercase"}},"repl")),a.a.createElement("div",{style:Object(u.a)({background:g.dark.bg},v.body)},a.a.createElement("div",{style:{padding:"15px",width:"100%"}},S.map((function(e,t){var n=e.type,r=e.text;switch(n){case"input":return a.a.createElement("div",{key:t},"> ",r);case"output":return a.a.createElement("div",{style:{marginTop:0,whiteSpace:"pre-wrap"},key:t},r);default:return function(e){throw new Error("Unexpected object: "+e)}(n)}})),a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},I?null:a.a.createElement(a.a.Fragment,null,">\xa0 ",a.a.createElement("textarea",{rows:1,value:C,ref:_,onChange:function(e){var t=e.target.value;T((function(e){return Object(u.a)({},e,{replInput:t})}))},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),T((function(e){var t=e.output;return{output:[].concat(Object(l.a)(t),[{type:"input",text:C}]),replInput:"",requestOutstanding:!0,replState:""}})),fetch("".concat(m,"/stateful"),{method:"POST",body:JSON.stringify({expr:C,state:L})}).then((function(e){return e.json()})).then((function(e){var t=e.result,n=e.state;return T((function(e){var r=e.output;return{output:[].concat(Object(l.a)(r),[{type:"output",text:t}]),requestOutstanding:!1,replInput:"",replState:n}}))})))},style:{flex:"1",background:g.dark.bg,border:"none",outline:"none",resize:"none",fontSize:"inherit",padding:"0",color:"inherit",margin:0},spellCheck:"false"}))))))),a.a.createElement("footer",null,"Powered by\xa0",a.a.createElement("a",{id:"chime-repo",href:"https://github.com/jeremyschlatter/chime"},"Chime")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.50964397.chunk.js.map