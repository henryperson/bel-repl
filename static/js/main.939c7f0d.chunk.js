(this["webpackJsonpchime-playground"]=this["webpackJsonpchime-playground"]||[]).push([[0],{13:function(e,t,n){e.exports=n(25)},18:function(e,t,n){},19:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),i=n.n(o),l=(n(18),n(8)),c=n(3),u=n(2),s=(n(19),[{title:"hello world",code:"(cons 'hello 'world)"},{title:"fibonacci",code:"(def fib (n)\n  (if (= n 0)\n      '(0)\n      (let l '(1 0)\n        (repeat (dec n)\n          (set l (cons (+ (car l) (cadr l)) l)))\n        (rev l))))\n\n(fib 10)"},{title:"quicksort",code:"(set l '(6 3 8 0 2 2 1 6 8 0))\n\n(def quicksort (l)\n  (let partition (fn (lo hi)\n                   (with (pivot (hi l)\n                          i lo)\n                     (for j lo hi\n                       (if (< (j l) pivot)\n                           (do\n                             (swap (j l) (i l))\n                             (zap inc i))))\n                      (swap (i l) (hi l))\n                      i))\n    ((afn (lo hi)\n       (when (< lo hi)\n        (let pivot (partition lo hi)\n            (self lo (dec pivot))\n            (self (inc pivot) hi))))\n     1 (len l)))\n  l)\n\n(quicksort l)\n(prn l)"}]),d=n(11),p=n(12),f="https://repl-api.bel-chime.com",h={base03:"#002b36",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"},m=Object(u.a)({light:{fg:h.base00,bg:h.base3,hl:h.base2,emph:h.base01,comment:h.base1},dark:{fg:h.base0,bg:h.base03,hl:h.base02,emph:h.base1,comment:h.base01}},h),b={bar:{height:"50px",width:"100%",display:"flex",alignItems:"center",padding:"15px"},barTitle:{textTransform:"uppercase"},panel:{display:"flex",flex:1,flexDirection:"column"},body:{flexGrow:1,fontFamily:'Monaco, Menlo, "Courier New", monospace',fontSize:"14px",display:"flex"},button:{textTransform:"uppercase",cursor:"pointer"}};function g(e){return r.a.createElement("div",{style:e})}function v(){return new URLSearchParams(document.location.search).get("p")}var y=v(),w={};var x=function(){var e=r.a.useState(y?["",!0]:[s[0].code,!1]),t=Object(c.a)(e,2),n=Object(c.a)(t[0],2),a=n[0],o=n[1],i=t[1],h=r.a.useState({output:[],replInput:"",requestOutstanding:!1,replState:""}),x=Object(c.a)(h,2),E=x[0],k=E.output,O=E.replInput,j=E.requestOutstanding,S=E.replState,C=x[1],I=r.a.useState(!1),T=Object(c.a)(I,2),q=T[0],z=T[1],L=r.a.useRef();r.a.useEffect((function(){var e;j||(null===(e=L.current)||void 0===e||e.focus())}),[L,j]);var D,W,J=r.a.useRef();D=J,W=function(){return z(!1)},r.a.useEffect((function(){var e=function(e){D.current&&!D.current.contains(e.target)&&W(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[D,W]),r.a.useEffect((function(){y&&fetch("https://storage.googleapis.com/download/storage/v1/b/chime-snippets/o/".concat(y,"?alt=media")).then((function(e){return e.text()})).then((function(e){w[y]=e,i([e,!0])})),window.addEventListener("popstate",(function(e){var t=v();if(t){var n=w[t];void 0!==n&&i([n,!0])}}))}),[]),r.a.useEffect((function(){o||window.history.pushState(null,"","/")}),[o]);var P,R=function(){function e(){return{width:window.innerWidth,height:window.innerHeight}}var t=r.a.useState(e),n=Object(c.a)(t,2),a=n[0],o=n[1];return r.a.useEffect((function(){function t(){o(e())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),a}(),B={};return r.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:R.width>R.height?"row":"column"}},r.a.createElement("div",{style:Object(u.a)({color:m.light.fg},b.panel)},r.a.createElement("div",{style:Object(u.a)({background:m.light.hl,justifyContent:"space-between"},b.bar)},r.a.createElement("span",{style:b.barTitle},"editor"),r.a.createElement("div",{style:{display:"flex"}},(P="25px",(B["buttonWidth"]=P)&&null),r.a.createElement("div",{style:{textTransform:"uppercase",cursor:"pointer"},onClick:function(){fetch("".concat(f,"/share"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){var t=e.share_id;w[t]=a,window.history.pushState(null,"","/?p=".concat(t)),i([a,!0])}))}},"share"),r.a.createElement(g,{width:B.buttonWidth}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},ref:J},r.a.createElement("div",{style:b.button,onClick:function(){z(!q)}},"examples"),q&&r.a.createElement("div",{style:{position:"absolute",textTransform:"none",top:b.bar.height,background:"white",display:"flex",flexDirection:"column",border:"1px solid ".concat(m.light.fg),borderRadius:"2px"}},s.map((function(e,t){var n=e.title,a=e.code;return r.a.createElement("div",{key:t,style:{height:"45px",width:"150px",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:t!==s.length-1?"1px solid ".concat(m.light.fg):"",cursor:"pointer"},onClick:function(){i([a,!1])}},n)})))),r.a.createElement(g,{width:B.buttonWidth}),r.a.createElement("div",{style:Object(u.a)({display:"flex",alignItems:"center"},b.button),onClick:function(){C((function(e){return{replInput:"",requestOutstanding:!0,output:e.output,replState:S}})),fetch("".concat(f,"/stateful-long"),{method:"POST",body:JSON.stringify({expr:a,state:""})}).then((function(e){return e.json()})).then((function(e){var t=e.result,n=e.state;return C({output:[{type:"output",text:t}],replInput:"",requestOutstanding:!1,replState:n})}))}},"run ",r.a.createElement(g,{width:"7px"}),r.a.createElement(d.a,{style:{fontSize:"small"},icon:p.a})))),r.a.createElement("div",{style:Object(u.a)({background:m.light.bg},b.body)},r.a.createElement("textarea",{value:a,onChange:function(e){i([e.target.value,!1])},style:{resize:"none",width:"100%",margin:0,flexGrow:1,border:"none",outline:"none",fontSize:"inherit",padding:"15px",color:"inherit",backgroundColor:"inherit"},spellCheck:"false"}))),r.a.createElement("div",{style:Object(u.a)({color:m.dark.fg},b.panel)},r.a.createElement("div",{style:Object(u.a)({background:m.dark.hl},b.bar)},r.a.createElement("span",{style:{textTransform:"uppercase"}},"repl")),r.a.createElement("div",{style:Object(u.a)({background:m.dark.bg},b.body)},r.a.createElement("div",{style:{padding:"15px",width:"100%"}},k.map((function(e,t){var n=e.type,a=e.text;switch(n){case"input":return r.a.createElement("div",{key:t},"> ",a);case"output":return r.a.createElement("pre",{style:{marginTop:0},key:t},a);default:return function(e){throw new Error("Unexpected object: "+e)}(n)}})),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},j?null:r.a.createElement(r.a.Fragment,null,">\xa0 ",r.a.createElement("textarea",{rows:1,value:O,ref:L,onChange:function(e){var t=e.target.value;C((function(e){return Object(u.a)({},e,{replInput:t})}))},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),C((function(e){var t=e.output;return{output:[].concat(Object(l.a)(t),[{type:"input",text:O}]),replInput:"",requestOutstanding:!0,replState:""}})),fetch("".concat(f,"/stateful"),{method:"POST",body:JSON.stringify({expr:O,state:S})}).then((function(e){return e.json()})).then((function(e){var t=e.result,n=e.state;return C((function(e){var a=e.output;return{output:[].concat(Object(l.a)(a),[{type:"output",text:t}]),requestOutstanding:!1,replInput:"",replState:n}}))})))},style:{flex:"1",background:m.dark.bg,border:"none",outline:"none",resize:"none",fontSize:"inherit",padding:"0",color:"inherit",margin:0},spellCheck:"false"})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.939c7f0d.chunk.js.map